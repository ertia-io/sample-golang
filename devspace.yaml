version: v2beta1
name: sample-golang

images:
  # By default ./Dockerfile will be used
  app:
    image: registry-harbor-registry.registry:5000/${IMAGE}
    tags:
      - ${IMAGE_TAG}
    kaniko:
      insecure: true
      #inCluster: {}
      serviceAccount: kaniko-builder

deployments:
- name: helmDeploy
  helm:
    chart:
      name: .ertia/deploy/app

pullSecrets:
  harbor:
    registry: registry-harbor-registry.registry:5000
    name: devspace-pull-secrets
    secret: devspace-pull-secrets
    serviceAccounts: 
      - default
      - kaniko-builder

localRegistry:
  enabled: false

vars:
  IMAGE: sample-golang
  IMAGE_TAG: latest


